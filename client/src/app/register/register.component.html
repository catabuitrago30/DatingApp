<!-- Example for classic forms (no reactive) <form #registerForm="ngForm" (ngSubmit)="register()" autocomplete="off"> -->

<!-- Below is example for Reactive forms -->       
<form [formGroup]='registerForm' (ngSubmit)="registerForm.valid && register()" autocomplete="off">
    <h2 class="text-center text-primary">Sign up</h2>
    <hr>

    <div class="form-group">
        <label class="control-label" style="margin-right: 10px;">I am a: </label>
        <label class="radio-inline">
            <input type="radio" value='male' formControlName="gender"> Male
        </label>
        <label class="radio-inline">
            <input type="radio" value='female' formControlName="gender" class="ml-3"> Female
        </label>
    </div>
    
    <!-- Below are examples with generic input validators but they don't work because of [formControl] -->
    <!-- <app-text-input [formControl]='registerForm.controls["username"]'                     
                    [label]='"Username"'></app-text-input>
    
    <app-text-input [formControl]='registerForm.controls["password"]'                     
                    [label]='"Password"' 
                    [type]='"password"'></app-text-input>
    
    <app-text-input [formControl]='registerForm.controls["confirmPassword"]'                     
                    [label]='"ConfirmPassword"' 
                    [type]='"password"'></app-text-input> -->


                    
    <!-- Example for classic forms no reactive -->
    <!-- <div class="form-group">
        <input type="text" 
               class="form-control" 
               name="username" 
               [(ngModel)]="model.username"
               placeholder="Username">
    </div> -->

    <!-- Below is example for Reactive forms-->
    <div class="form-group">
        <input 
               [class.is-invalid]='registerForm.get("username").errors 
                                   && registerForm.get("username").touched'
               type="text" 
               class="form-control"                
               formControlName='username'
               placeholder="Username">
               <div class="invalid-feedback">Please enter a username</div>
    </div>

    <!-- Below is example for Reactive forms-->
    <!-- In theory this control should use an _forms/date input controller but it has compilation errors-->
    <!-- Therefore just keeping java script Date input type -->
    <div class="form-group">
        <input 
               [class.is-invalid]='registerForm.get("knownAs").errors 
                                   && registerForm.get("knownAs").touched'
               type="text" 
               class="form-control"                
               formControlName='knownAs'
               placeholder="known as"               
               >
               <div class="invalid-feedback">Please enter a known as</div>
    </div>

    <!-- Below is example for Reactive forms-->
    <div class="form-group">
        <input 
               [class.is-invalid]='registerForm.get("dateOfBirth").errors 
                                   && registerForm.get("dateOfBirth").touched'
               type="date" 
               class="form-control"                
               formControlName='dateOfBirth'
               placeholder="Date of birth">
               <div class="invalid-feedback">Please enter a Date of birth</div>
    </div>

    <!-- Below is example for Reactive forms-->
    <div class="form-group">
        <input 
               [class.is-invalid]='registerForm.get("city").errors 
                                   && registerForm.get("city").touched'
               type="city" 
               class="form-control"                
               formControlName='city'
               placeholder="City">
               <div class="invalid-feedback">Please enter a City</div>
    </div>

    <!-- Below is example for Reactive forms-->
    <div class="form-group">
        <input 
               [class.is-invalid]='registerForm.get("country").errors 
                                   && registerForm.get("country").touched'
               type="country" 
               class="form-control"                
               formControlName='country'
               placeholder="Country">
               <div class="invalid-feedback">Please enter a Country</div>
    </div>

    
    <!--below example about how to get data from parent components 
        <div class="form-group">
        <label>Who is your favorite user?</label>
        <select class="form-control">
            <option *ngFor="let user of usersFromHomeComponent" [value]="user.userName">
                     {{user.userName}}
            </option>
        </select>
    </div> -->

    <!-- <div class="form-group">
        <input type="password" 
               class="form-control" 
               name="password" 
               [(ngModel)]="model.password"
               placeholder="Password">
    </div> -->

    <div class="form-group">
        <input 
               [class.is-invalid]='registerForm.get("password").errors 
                                   && registerForm.get("password").touched'
               type="password" 
               class="form-control" 
               formControlName="password"                
               placeholder="Password">
               <div *ngIf="registerForm.get('password').hasError('required')" class="invalid-feedback">Please enter a password</div>
               <div *ngIf="registerForm.get('password').hasError('minlength')" class="invalid-feedback">Password must be at least 4 characters</div>
               <div *ngIf="registerForm.get('password').hasError('maxlength')" class="invalid-feedback">Password must be at most 8 characters</div>
    </div> 

    <div class="form-group">
        <input 
               [class.is-invalid]='registerForm.get("confirmPassword").errors 
                                   && registerForm.get("confirmPassword").touched' 
               type="password" 
               class="form-control" 
               formControlName="confirmPassword"                
               placeholder="Confirm Password">
               <div *ngIf="registerForm.get('confirmPassword').hasError('required')" class="invalid-feedback">Please enter a confirm password</div>
               <div *ngIf="registerForm.get('confirmPassword').hasError('isMatching')" class="invalid-feedback">Confirm password must match password</div>               
    </div>

    <div class="row" *ngIf="validationErrors.length > 0">
        <ul class="text-danger">
            <li *ngFor="let error of validationErrors">
                {{error}}
            </li>
        </ul>
    </div>

    <div class="form-group text-center">
        <button [disabled]='!registerForm.valid' class="btn btn-success mr-2" type="submit">Register</button>
        <button class="btn btn-default mr-2" (click)="cancel()" type="button">Cancel</button>
    </div>

    <!-- <p>Form value: {{registerForm.value | json}} </p>
    <p>Form status: {{registerForm.status | json}} </p> -->



</form>
